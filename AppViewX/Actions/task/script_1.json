{"uniqueId":"G0YFPqA3","directoryUniqueId":"Sourcecon001","source":"USER_CREATED","tags":[],"userName":"admin","objectType":"TaskDetails","sourceControlSettings":{"committed":true,"pendingForPushAction":false,"pushActionCompleted":false,"enabledForRemoteRepository":true},"description":"","historyReferences":[],"usedHistory":null,"sampleInput":null,"sampleOutput":null,"contentTab":null,"successiveTasks":{"incoming":[{"taskId":"createform_1","taskName":null,"subflowId":"7njwvbJS","parentSubflowId":"","taskType":"start","flowName":null,"linkType":null,"backwardLink":false}],"success":[{"taskId":"decision_1","taskName":null,"subflowId":"pyfonGbS","parentSubflowId":"","taskType":"decision","flowName":null,"linkType":null,"backwardLink":false}]},"flowPathID":null,"ignoredForStatusComputation":false,"flowName":"","subFlowID":"7njwvbJS","globalData":[{"name":"pools","key":"pools","value":"pools","description":null,"dataType":"string","size":0,"variableType":"global","defaultValues":null,"mandatory":false,"showToolTip":false,"useDefaultValue":false,"variableDeclared":false,"variableUsed":false,"sourceTasks":null,"destinationTasks":null,"enableForIOVariables":true,"order":0,"label":"pools","dataValidation":null,"notification":null,"elementType":null,"type":"Custom","_id":null},{"name":"pool_tabular","key":"pool_tabular","value":"pool_tabular","description":null,"dataType":"string","size":0,"variableType":"global","defaultValues":null,"mandatory":false,"showToolTip":false,"useDefaultValue":false,"variableDeclared":false,"variableUsed":false,"sourceTasks":null,"destinationTasks":null,"enableForIOVariables":true,"order":0,"label":"pool_tabular","dataValidation":null,"notification":null,"elementType":null,"type":"Custom","_id":null}],"input":[{"name":null,"key":"pool_members_fallback_load_balancing_method","value":"<%pool_members_fallback_load_balancing_method%>","description":null,"dataType":"Json","size":0,"variableType":"global","defaultValues":null,"mandatory":false,"showToolTip":false,"useDefaultValue":false,"variableDeclared":false,"variableUsed":false,"sourceTasks":null,"destinationTasks":null,"enableForIOVariables":true,"order":0,"label":"pool_members_fallback_load_balancing_method","dataValidation":null,"notification":null,"elementType":null,"type":"Custom","_id":null},{"name":null,"key":"device_name","value":"<%device_name%>","description":null,"dataType":"Json","size":0,"variableType":"global","defaultValues":null,"mandatory":false,"showToolTip":false,"useDefaultValue":false,"variableDeclared":false,"variableUsed":false,"sourceTasks":null,"destinationTasks":null,"enableForIOVariables":true,"order":0,"label":"device_name","dataValidation":null,"notification":null,"elementType":null,"type":"Custom","_id":null},{"name":null,"key":"pool_tabular","value":"<%pool_tabular%>","description":null,"dataType":"Json","size":0,"variableType":"global","defaultValues":null,"mandatory":false,"showToolTip":false,"useDefaultValue":false,"variableDeclared":false,"variableUsed":false,"sourceTasks":null,"destinationTasks":null,"enableForIOVariables":true,"order":0,"label":"pool_tabular","dataValidation":null,"notification":null,"elementType":null,"type":"Custom","_id":null},{"name":null,"key":"pool_members_alternate_load_balancing_method","value":"<%pool_members_alternate_load_balancing_method%>","description":null,"dataType":"Json","size":0,"variableType":"global","defaultValues":null,"mandatory":false,"showToolTip":false,"useDefaultValue":false,"variableDeclared":false,"variableUsed":false,"sourceTasks":null,"destinationTasks":null,"enableForIOVariables":true,"order":0,"label":"pool_members_alternate_load_balancing_method","dataValidation":null,"notification":null,"elementType":null,"type":"Custom","_id":null},{"name":null,"key":"operation_type","value":"<%operation_type%>","description":null,"dataType":"Json","size":0,"variableType":"global","defaultValues":null,"mandatory":false,"showToolTip":false,"useDefaultValue":false,"variableDeclared":false,"variableUsed":false,"sourceTasks":null,"destinationTasks":null,"enableForIOVariables":true,"order":0,"label":"operation_type","dataValidation":null,"notification":null,"elementType":null,"type":"Custom","_id":null},{"name":null,"key":"pool_members_preferred_load_balancing_method","value":"<%pool_members_preferred_load_balancing_method%>","description":null,"dataType":"Json","size":0,"variableType":"global","defaultValues":null,"mandatory":false,"showToolTip":false,"useDefaultValue":false,"variableDeclared":false,"variableUsed":false,"sourceTasks":null,"destinationTasks":null,"enableForIOVariables":true,"order":0,"label":"pool_members_preferred_load_balancing_method","dataValidation":null,"notification":null,"elementType":null,"type":"Custom","_id":null},{"name":null,"key":"pool_selection","value":"<%pool_selection%>","description":null,"dataType":"Json","size":0,"variableType":"global","defaultValues":null,"mandatory":false,"showToolTip":false,"useDefaultValue":false,"variableDeclared":false,"variableUsed":false,"sourceTasks":null,"destinationTasks":null,"enableForIOVariables":true,"order":0,"label":"pool_selection","dataValidation":null,"notification":null,"elementType":null,"type":"Custom","_id":null},{"name":null,"key":"pool_list","value":"<%pool_list%>","description":null,"dataType":"Json","size":0,"variableType":"global","defaultValues":null,"mandatory":false,"showToolTip":false,"useDefaultValue":false,"variableDeclared":false,"variableUsed":false,"sourceTasks":null,"destinationTasks":null,"enableForIOVariables":true,"order":0,"label":"pool_list","dataValidation":null,"notification":null,"elementType":null,"type":"Custom","_id":null}],"notificationMessage":{"0":"","1":"","2":""},"ancestor":null,"metaData":{"taskHeader":"Data Processing for GTM WideIP","hide":false,"lock":false,"successState":1,"failoverState":2,"taskScope":null,"hideFromStageView":true,"mode":"Developer","nature":"normal","lowCodeTask":false},"parentSubFlowID":"","helpContent":null,"name":"","syncExecution":true,"_id":null,"task_id":"script_1","task_name":"Input Generator","task_type":"script","task_category":"script","component_type":"others","setNullProperties":true,"folderName":null,"sub_group":"script","group_name":"General","viewable_type":"custom","scriptType":"Python","scriptContent":"\n \nnull = None\n\nif \"<%pool_selection%>\" == \"Add\":\n    pools = \"add { \" + \"<%pool_list%>\".replace(\",\",\" \") + \"}\"\nelif \"<%pool_selection%>\" == \"Remove\":\n    pools = \"delete { \" + \"<%pool_list%>\".replace(\",\",\" \") + \"}\"\nelse:\n    pools =None\n\n\npool_tabular = <%pool_tabular%> \n\npool1_tabular = [{\"name\":\"a \" +i[\"pool_name\"],\"device_name\" : \"<%device_name%>\",\"load-balancing-mode\":\"<%pool_members_preferred_load_balancing_method%>\",\"alternate-mode\":\"<%pool_members_alternate_load_balancing_method%>\",\"fallback-mode\":\"<%pool_members_fallback_load_balancing_method%>\",\"operation_type\":\"<%operation_type%>\",\"members\": \"add { \"+i[\"pool_members\"].replace(\",\",\" \") +\"}\" } for i in pool_tabular if pool_tabular is not None and i[\"pool_member_selection\"]==\"Add\"]\n   \npool2_tabular = [{\"name\":\"a \" +i[\"pool_name\"],\"device_name\" : \"<%device_name%>\",\"load-balancing-mode\":\"<%pool_members_preferred_load_balancing_method%>\",\"alternate-mode\":\"<%pool_members_alternate_load_balancing_method%>\",\"fallback-mode\":\"<%pool_members_fallback_load_balancing_method%>\",\"operation_type\":\"<%operation_type%>\",\"members\": \"delete { \" +i[\"pool_members\"].replace(\",\",\" \") +\"}\" } for i in pool_tabular if pool_tabular is not None and i[\"pool_member_selection\"]==\"Remove\"]\npool1_tabular.extend(pool2_tabular)\nAVX::OUTPUT({\"pools\":pools,\"pool_tabular\":pool1_tabular})","http_method":"POST","action_id":"run-script"}